# 双指针 & 滑动窗口

## 一、双指针是什么？

双指针（Two Pointers） 是通过两个指针在数组 / 字符串 / 链表上移动，
用 O(n) 时间解决原本需要 O(n²) 的问题。

本质思想：
> 用指针移动代替嵌套循环

## 二、双指针的两大核心模型
### 1. 对撞指针（左右指针）

特点
- 一个指针在左 left
- 一个指针在右 right
- 两指针向中间靠拢

常见场景
- 有序数组
- 回文判断
- 二分查找变形
- 反转数组 / 字符串

模板
```go
left, right := 0, len(arr)-1
for left < right {
    // 根据条件处理
    left++
    right--
}
```
示例: 344题，反转字符串
```go
func reverseString(s []byte) {
    left, right := 0, len(s)-1
    for left < right {
        s[left], s[right] = s[right], s[left]
        left++
        right--
    }
}
```
### 2. 快慢指针（同向指针）
特点
- 两个指针从同一方向开始
- fast 探路
- slow 负责构建结果

常见场景
- 数组去重
- 移除元素
- 移动零
- 链表判环

模板
```go
slow := 0
for fast := 0; fast < len(nums); fast++ {
    if 满足条件 {
        nums[slow] = nums[fast]
        slow++
    }
}
```
示例: 
26题，删除有序数组中的重复项
27题，移除元素
```go
func removeElement(nums []int, val int) int {
    slow := 0
    for fast := 0; fast < len(nums); fast++ {
        if nums[fast] != val {
            nums[slow] = nums[fast]
            slow++
        }
    }
    return slow
}
```

## 三、滑动窗口是什么？

滑动窗口是双指针的进阶形态：

- 两个指针 left、right
- 表示一个 连续区间
- 右边扩大窗口
- 左边缩小窗口

常用于：
> 连续子数组 / 子串问题

## 四、滑动窗口的核心特征

关键词判断法
出现以下描述，优先考虑滑动窗口：
- 连续子数组 / 子串
- 最长 / 最短
- 满足某种条件
- 和 / 次数 / 频率

不能用滑动窗口的情况：
- 非连续
- 全排列
- 组合问题

## 五、滑动窗口的模板
```go
left := 0
window := 0 // sum / count / map

for right := 0; right < len(nums); right++ {
    // 1. 扩大窗口
    window += nums[right]

    // 2. 收缩窗口
    for window >= target {
        // 3. 更新结果
        ans = min(ans, right-left+1)

        // 4. 缩小窗口
        window -= nums[left]
        left++
    }
}
```
四步口诀:
1. 右指针扩
2. 判断条件
3. 更新答案
4. 左指针缩

## 六、滑动窗口的常见变形
1. 固定窗口大小
```go
windowSum := 0
for i := 0; i < len(nums); i++ {
    windowSum += nums[i]
    if i >= k {
        windowSum -= nums[i-k]
    }
}
```
2. 最大 / 最长窗口
```go
if right-left+1 > maxLen {
    maxLen = right-left+1
}
```
3. 最小 / 最短窗口
```go
for 满足条件 {
    minLen = min(minLen, right-left+1)
    left++
}
```

## 七、复杂度总结
| 方法   | 时间复杂度 | 空间复杂度       |
| ---- | ----- | ----------- |
| 对撞指针 | O(n)  | O(1)        |
| 快慢指针 | O(n)  | O(1)        |
| 滑动窗口 | O(n)  | O(1) / O(n) |
